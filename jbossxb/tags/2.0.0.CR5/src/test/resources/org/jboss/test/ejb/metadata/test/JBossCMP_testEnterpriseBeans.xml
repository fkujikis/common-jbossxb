<?xml version="1.0" encoding="UTF-8"?>

<jbosscmp-jdbc xmlns="http://www.jboss.com/xml/ns/javaee/cmp2x"
       xmlns:jee="http://java.sun.com/xml/ns/javaee"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.jboss.com/xml/ns/javaee/cmp2x http://www.jboss.org/j2ee/schema/jbosscmp-jdbc_5_0.xsd">

   <enterprise-beans>
      <entity>
         <ejb-name>entity1EjbName</ejb-name>
      </entity>

      <entity>
         <ejb-name>entity2EjbName</ejb-name>
         <datasource>java:/DefaultDS</datasource>
         <datasource-mapping>Hypersonic SQL</datasource-mapping>
         <create-table>true</create-table>
         <remove-table>true</remove-table>

         <post-table-create>
            <sql-statement>alter table 1</sql-statement>
            <sql-statement>alter table 2</sql-statement>
            <sql-statement>alter table 3</sql-statement>
         </post-table-create>

         <read-only>true</read-only>
         <read-time-out>1000</read-time-out>
         <row-locking>true</row-locking>
         <pk-constraint>true</pk-constraint>

         <read-ahead>
            <strategy>none</strategy>
            <page-size>11</page-size>
            <eager-load-group>eager-group</eager-load-group>
         </read-ahead>

         <list-cache-max>17</list-cache-max>
         <clean-read-ahead-on-load>true</clean-read-ahead-on-load>
         <fetch-size>21</fetch-size>

         <table-name>entity2Table</table-name>
         <cmp-field>
            <field-name>id</field-name>
         </cmp-field>
         <cmp-field>
            <field-name>name</field-name>
            <read-only>true</read-only>
            <read-time-out>1111</read-time-out>
            <column-name>name_column</column-name>
            <not-null>true</not-null>
            <jdbc-type>VARCHAR</jdbc-type>
            <sql-type>VARCHAR(111)</sql-type>
            <auto-increment/>
            <dbindex/>
            <check-dirty-after-get>true</check-dirty-after-get>
            <state-factory>entity2.StateFactory</state-factory>
         </cmp-field>
         <cmp-field>
            <field-name>address</field-name>
            <read-only>false</read-only>
            <property>
               <property-name>street</property-name>
            </property>
            <property>
               <property-name>city</property-name>
               <column-name>city_column</column-name>
               <not-null>true</not-null>
               <jdbc-type>INTEGER</jdbc-type>
               <sql-type>NUMERIC(222)</sql-type>
            </property>
         </cmp-field>

         <load-groups>
            <load-group>
               <load-group-name>basic</load-group-name>
               <field-name>name</field-name>
            </load-group>
            <load-group>
               <description>jboss group</description>
               <load-group-name>eager-group</load-group-name>
               <field-name>name</field-name>
               <field-name>address</field-name>
            </load-group>
         </load-groups>
         <eager-load-group>basic</eager-load-group>
         <lazy-load-groups>
           <load-group-name>group1</load-group-name>
           <load-group-name>group2</load-group-name>
         </lazy-load-groups>

         <query>
            <description>finder</description>
            <query-method>
               <method-name>findByWhatever</method-name>
               <method-params>
                  <method-param>java.lang.String</method-param>
                  <method-param>java.lang.Integer</method-param>
               </method-params>
            </query-method>
            <jboss-ql>select object(o) from entity2</jboss-ql>
            <read-ahead>
               <strategy>on-load</strategy>
               <page-size>22</page-size>
               <eager-load-group>eager-group</eager-load-group>
            </read-ahead>
            <ql-compiler>entity.QLCompiler</ql-compiler>
            <lazy-resultset-loading>true</lazy-resultset-loading>
         </query>
         <query>
            <query-method>
               <method-name>findByAllMeans</method-name>
               <method-params/>
            </query-method>
            <dynamic-ql/>
         </query>
         <query>
            <query-method>
               <method-name>findByDeclaredSql1</method-name>
               <method-params/>
            </query-method>
            <declared-sql>
               <select>
                  <distinct/>
                  <ejb-name>entity2EjbName</ejb-name>
                  <field-name>name</field-name>
                  <alias>entity2Alias</alias>
                  <additional-columns>, address</additional-columns>
               </select>
               <from>,  entity1 entity1Alias</from>
               <where>entity2Alias.city={0} OR entity2Alias.street={1}</where>
               <order>entity2Alias.name</order>
               <other>limit 11 offset 111</other>
            </declared-sql>
         </query>
         <query>
            <query-method>
               <method-name>findByDeclaredSql2</method-name>
               <method-params/>
            </query-method>
            <declared-sql>
               <select>
                  <ejb-name>entity2EjbName</ejb-name>
               </select>
               <where>entity2Alias.name='kloop'</where>
            </declared-sql>
         </query>

         <unknown-pk>
            <key-generator-factory>entity2.KeyFactory</key-generator-factory>
            <unknown-pk-class>java.lang.Long</unknown-pk-class>
            <field-name>hiddenId</field-name>
            <column-name>hidden_id</column-name>
            <jdbc-type>INTEGER</jdbc-type>
            <sql-type>NUMERIC(1111)</sql-type>
            <auto-increment/>
         </unknown-pk>

         <entity-command name="entity2Command"/>

         <optimistic-locking>
            <version-column/>
            <field-name>version</field-name>
            <column-name>vrsn</column-name>
            <jdbc-type>INTEGER</jdbc-type>
            <sql-type>NUMERIC</sql-type>
         </optimistic-locking>

         <audit>
            <created-by>
               <field-name>createdBy</field-name>
            </created-by>
            <created-time>
               <column-name>created_time</column-name>
            </created-time>
            <updated-by>
               <field-name>updatedBy</field-name>
               <column-name>updated_by</column-name>
            </updated-by>
            <updated-time>
               <field-name>updatedTime</field-name>
               <column-name>updated_time</column-name>
               <jdbc-type>TIMESTAMP</jdbc-type>
               <sql-type>TIMESTAMP(111)</sql-type>
            </updated-time>
         </audit>
      </entity>
   </enterprise-beans>

</jbosscmp-jdbc>
